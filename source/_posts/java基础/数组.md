---
title: 数组
date: 2019-03-29 18:36:22
tags: 
	- Java
	- JavaSE
categories: JavaSE
---

# 数组

**数组变量属引用类型，实例化的数组也可以看成是对象，数组中的每个元素相当于该对象的成员变量。数组本身就是对象，Java中对象是在堆中的，因此数组无论保存原始类型还是其他对象类型，数组对象本身是在堆中存储的。**

## 数组概念

> 数组是存储同一种数据类型多个元素的集合。也可以看成是一个容器。
>
> 数组既可以存储基本数据类型，也可以存储引用数据类型。（对象的地址）（对象数组）
>
> 长度是确定的。数组一旦被创建，它的大小就是不可以改变的。

## 数组定义格式

```java
type[]   arr_name; //（推荐使用这种方式）
type    arr_name[];
```

**注意事项**

​      1. 声明的时候并没有实例化任何对象，只有在实例化数组对象时，JVM才分配空间，这时才与长度有关。

​      2. 声明一个数组的时候并没有数组真正被创建。

​      3. 构造一个数组，必须指定长度。

## 数组初始化

> Java中的数组必须先初始化,然后才能使用。
>
> 所谓初始化：就是为数组中的数组元素分配内存空间，并为每个数组元素赋初值。



**数组的初始化方式**

1. 动态初始化：初始化时程序猿只指定数组长度，由系统为数组分配默认初始值。

   ```java
   int[] a1 = new int[2];//动态初始化数组，先分配空间；
   a1[0]=1;//给数组元素赋值；
   a1[1]=2;//给数组元素赋值；
   ```

2. 静态初始化：初始化时指定每个数组元素的初始值，由系统决定数组长度。

   ```java
   int[] a=new int[]{1,2,3};//完整格式,可以简化为下
   int[] a = { 1, 2, 3 };// 静态初始化基本类型数组；注意这种方式不能先声明，再简洁初始化。
   Man[] mans = { new Man(1, 1), new Man(2, 2) };// 静态初始化引用类型数组；
   ```

   

3. 默认初始化：数组是引用类型，它的元素相当于类的实例变量（实例化的数组可以看成一个对象，数组中的每个元素相当于该对象的成员变量），因此数组一经分配空间，其中的每个元素也被按照实例变量同样的方式被隐式初始化。

   ```java
   int a2[] = new int[2]; // 默认值：0,0
   boolean[] b = new boolean[2]; // 默认值：false,false
   String[] s = new String[2]; // 默认值：null, null
   ```

   byte,short,int,long ：0

     float,double：0.0

     char：‘\u0000’

     boolean：false

     引用类型：null     0x0000(4字节)

   **但是一定要注意不能同时进行动态初始化和静态初始化。就是不能在给定数组长度的同时给出元素。**

   例如

   ```java
   int data[]=new int[3]{1,2,3};///编译错误！
   ```

   

## 数组的内存分配

```java
public class TestDemo{
	public static void main(String[] args) {
		int data[]=new int[3];//声明数组并分配空间
		data[0]=10;
		data[1]=20;
		data[2]=30;
	}
}
```



{% asset_img 基本类型数组内存分配图.png%}

# 二维数组

java中二维数组内存不是连续的，相当于一个链表，(和C语言不一样)【不建议使用】

## 二维数组的声明

```java
public class Test {
    public static void main(String[] args) {
        // Java中多维数组的声明和初始化应按从低维到高维的顺序进行
        int[][] a = new int[3][];
        a[0] = new int[2];
        a[1] = new int[4];
        a[2] = new int[3];
        // int a1[][]=new int[][4];//非法
    }
}
```

## 二维数组的动态初始化

```java
import java.util.Arrays;
public class Test {
    public static void main(String[] args) {
        int[][] a = new int[3][];
        // a[0] = {1,2,5}; //错误，没有声明类型就初始化
        a[0] = new int[] { 1, 2 };
        a[1] = new int[] { 2, 2 };
        a[2] = new int[] { 2, 2, 3, 4 };
        System.out.println(a[2][3]);
        System.out.println(Arrays.toString(a[0]));
        System.out.println(Arrays.toString(a[1]));
        System.out.println(Arrays.toString(a[2]));
    }
}
```



## 二维数组的静态初始化

```java
public class Test {
    public static void main(String[] args) {
        int[][] a = { { 1, 2, 3 },
                     { 3, 4 }, 
                     { 3, 5, 6, 7 } };
        System.out.println(a[2][3]);
    }
}
```

## 二维数组的内存分配

{%asset_img 二维数组内存分配.png %}

# 对象数组

```java
class Book{
	private String title;
	private double price;
	public Book(String t,double p) {
		title=t;
		price=p;
	}
	public String toString() {
		return "titile= "+this.title+",price= "+this.price;
	}
}
public class Test01{
	public static void main(String[] args) {
		Book books[]=new Book[] {
				new Book("Java",79.8),
				new Book("JSP",69.8),
				new Book("Android",89.8)
		};
	
		for(Book temp:books) {
			System.out.println(temp);
		}
	}
}
```



```java
程序执行结果：
titile= Java,price= 79.8
titile= JSP,price= 69.8
titile= Android,price= 89.8
```

{%asset_img 对象数组内存.png %}