---
title: 构造方法
date: 2019-04-02 15:11:10
tags:
	- Java
	- JavaSE
categories: JavaSE
---

构造器也叫构造方法(constructor)，用于对象的初始化。构造器是一个创建对象时被自动调用的特殊方法，目的是对象的初始化。构造器的名称应与类的名称一致。***Java通过new关键字来调用构造器，从而返回该类的实例，是一种特殊的方法。***

# 申明格式

```java
[修饰符] 类名(形参列表){
    ``//n条语句
}
```

1. 方法名与类名相同
2. 没有返回值类型，连void都没有
3. 没有具体的返回值

例如：

```java
class Point {
    double x, y;
    public Point(double x, double y) {
        this.x = x;
        this.y = y;  
    }
    public double getDistance(Point p) {
        return Math.sqrt((x - p.x) * (x - p.x) + (y - p.y) * (y - p.y));
    }
}
public class TestConstructor {
    public static void main(String[] args) {
        Point p = new Point(3.0, 4.0);
        Point origin = new Point(0.0, 0.0);
        System.out.println(p.getDistance(origin));
    }
}
```

`5.0//程序结果`

# 构造方法的重载

构造方法也是方法，只不过有特殊的作用而已。与普通方法一样，构造方法也可以重载。

**【特别注意】**

1. 如果方法构造中形参名与属性名相同时，需要使用this关键字区分属性与形参。如下示例所示：this.id 表示属性id;id表示形参id

2. 如果你不提供构造方法，系统会给出默认构造方法

3. 如果你提供了构造方法，系统将不再提供***【强烈推荐永远自己写一个无参构造方法】***

4. 构造方法不能递归使用（显然会一直调用自己，栈溢出）

   ```java
   package classlib;
   public class User {
       int id; // id
       String name; // 账户名
       String pwd; // 密码
       public User() {
    
       }
       public User(int id, String name) {
           super();
           this.id = id;
           this.name = name;
       }
       public User(int id, String name, String pwd) {
           this.id = id;
           this.name = name;
           this.pwd = pwd;
       }
       public static void main(String[] args) {
           User u1 = new User();
           User u2 = new User(101, "WJJ");
           User u3 = new User(100, "AL", "123456");     
       }
   }
   ```

   

   # 标准案例

   1. 讲成员变量私有化
   2. 提供一个无参和所有参数的构造方法
   3. 提供setXxx和getXxx
   4. 成员方法

　　# 构造方法私有化

对于一个工具类，可以将无参构造方法初始化，这样这能通过类名调用其静态方法，不能为该类实例化对象

例如

```java
class MyMath{
    private MyMath(){//The constructor MyMath() is not visible
        //讲无参构造函数私有化
    }
    public static int add(int a,int b){
		return a+b;
    }
    //还可以有其它计算
}
```



则此时MyMath类不能实例化，只能用类名调用静态方法

