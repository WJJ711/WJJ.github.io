---
title: 位运算符面试问题
date: 2019-03-28 22:04:22
tags: 
	- Java
	- JavaSE
categories: JavaSE
---

# 位运算符面试问题

## 请用最有效率的方式写出计算2乘以8的结果

答：2<<3

## 请自己实现两个整数变量的交换

1. 法一

   ```java
   int temp=a;
   a=b;
   b=temp;
   ```

2. 法二

   ```java
   a=a+b;
   b=a-b;
   a=a-b;
   ```

3. 法三

   ```java
   a=a^b;
   b=a^b;//b=a^b^b=a  主要利用性质 x^x=0
   a=a^b;//a=a^b^a=b              x^0=x
   ```

4. 法四

   ```java
   a=(a+b)-(b=a);//不推荐
   ```

   

# 判断一个数是否是2的n次幂

**分析：2^n：素数因子只有2**

1. 法一:使用循环，若为偶数，一直除以2，最后为1，则为2^n，时间复杂度logn

2. 法二：**位运算**2^n的数有一特点，转为2进制形式为：只有一个1，其余全为0，因此只需要判断二进制形式是否只有1个1

   ​                            a:  0000 1000

   ​			 a-1:  0000 0111

   若a不为2^n次，则至少有2个1，例如

   ​			   b:   0000 1100

   ​                         b-1:  0000 1011

   显然若a是2^n的数，则a&(a-1)=0

   ```java
   class TestDemo{
       public static void main(String[] args){
           int a=1024;
           System.out.println((a&(a-1))==0);
       }
   }
   ```

   

## 一堆整数中都是成双存在，只有一个数是单独存在，请找出这个数？



分析：因为一个整数x^x=0

​		    	x^0=x

所以，相同的部分^运算后全变成了0，最后一个单独存在的^0得到本身

答：例如有数a,b,c,d,e

用a^b得到a1

a1^c得到a2

以此往复，得到的最后一个数，就是单独的数